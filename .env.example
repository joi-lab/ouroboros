# =============================================================================
# Ouroboros — Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your values:
#   cp .env.example .env
#
# Required variables are marked with [REQUIRED].
# Optional variables have sensible defaults and can be left commented out.
# =============================================================================

# ---------------------------------------------------------------------------
# API Keys [REQUIRED]
# ---------------------------------------------------------------------------

# OpenAI API key — primary LLM provider (GPT-4.1, etc.)
OPENAI_API_KEY=

# Google API key — required for Gemini model support
GOOGLE_API_KEY=

# Telegram bot token — used for the owner chat interface
TELEGRAM_BOT_TOKEN=

# GitHub personal access token — repo access for self-modification
GITHUB_TOKEN=

# Total budget in USD — hard spending cap for all LLM calls
TOTAL_BUDGET=50

# ---------------------------------------------------------------------------
# API Keys [OPTIONAL]
# ---------------------------------------------------------------------------

# OpenRouter API key — fallback router for Anthropic and other models
# OPENROUTER_API_KEY=

# Anthropic API key — enables Claude Code CLI for code edits
# ANTHROPIC_API_KEY=

# ---------------------------------------------------------------------------
# GitHub Configuration
# ---------------------------------------------------------------------------

# GitHub username and repo name for the Ouroboros repository
GITHUB_USER=razzant
GITHUB_REPO=ouroboros

# ---------------------------------------------------------------------------
# Paths (standalone deployment)
# ---------------------------------------------------------------------------

# Root directory for persistent data (state, logs, memory, knowledge base)
OUROBOROS_DATA_DIR=/opt/ouroboros/data

# Directory for the git working copy of the Ouroboros repo
OUROBOROS_REPO_DIR=/opt/ouroboros/repo

# ---------------------------------------------------------------------------
# Model Configuration
# ---------------------------------------------------------------------------

# Primary model for reasoning / chat tasks
OUROBOROS_MODEL=gpt-4.1

# Model for code editing tasks
OUROBOROS_MODEL_CODE=anthropic/claude-sonnet-4.6

# Lightweight model for summarization, indexing, background tasks
OUROBOROS_MODEL_LIGHT=gemini-2.5-flash

# Comma-separated fallback model list (tried in order if primary returns empty)
# OUROBOROS_MODEL_FALLBACK_LIST=gpt-4.1,gemini-2.5-pro,anthropic/claude-sonnet-4.6

# Model used for web search tool
# OUROBOROS_WEBSEARCH_MODEL=gpt-5

# ---------------------------------------------------------------------------
# Worker / Timeout Configuration
# ---------------------------------------------------------------------------

# Maximum concurrent worker processes
OUROBOROS_MAX_WORKERS=5

# Soft timeout (seconds) — warning issued after this idle period
OUROBOROS_SOFT_TIMEOUT_SEC=600

# Hard timeout (seconds) — task forcibly killed after this idle period
OUROBOROS_HARD_TIMEOUT_SEC=1800

# Maximum LLM rounds per task before forced stop
# OUROBOROS_MAX_ROUNDS=200

# Worker process start method: "fork" (fast, Linux) or "spawn" (safe, portable)
OUROBOROS_WORKER_START_METHOD=fork

# ---------------------------------------------------------------------------
# Diagnostics
# ---------------------------------------------------------------------------

# Heartbeat interval (seconds) for main loop health logging (0 = disabled)
OUROBOROS_DIAG_HEARTBEAT_SEC=30

# Threshold (seconds) to log slow main-loop cycles (0 = disabled)
OUROBOROS_DIAG_SLOW_CYCLE_SEC=20

# ---------------------------------------------------------------------------
# Background Consciousness
# ---------------------------------------------------------------------------

# Max percentage of total budget the background consciousness may use
# OUROBOROS_BG_BUDGET_PCT=10

# ---------------------------------------------------------------------------
# Git Branch
# ---------------------------------------------------------------------------

# Branch to boot from (used by bootstrap shim for git checkout)
OUROBOROS_BOOT_BRANCH=ouroboros

# Run pre-push tests: 1 = enabled (default), 0 = skip
# OUROBOROS_PRE_PUSH_TESTS=1

# ---------------------------------------------------------------------------
# Claude Code Integration
# ---------------------------------------------------------------------------

# Permission mode for Claude Code CLI: bypassPermissions (default) or ask
# OUROBOROS_CLAUDE_CODE_PERMISSION_MODE=bypassPermissions
